<!DOCTYPE html>
<html lang ="en">
<head>
    <meta charest="UTF-8">
    <meta name = "viewport" content= "width = device-width, initial-scale = 1.0">
    <title>摯友</title>
    <link rel = 'stylesheet' href = "style-friends.css">
</head>
<body>
 
    <div class = "title">
        <h1>朋友們</h1>
        <h2>my best friends</h2>
    </div> 
    <hr style ="height: 5px; background-color: rgb(6, 147, 255); border: none">

   
<!-- PICS from here -->
<style>
    .carousel-container {
        display: flex;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        scroll-behavior: smooth;
    }

    .carousel-item {
        flex: 0 0 35%; 
        scroll-snap-align: center;
        text-align: center;
        position: relative;
    }

    .carousel-item img {
        width: 100%;
        height: auto;
        transition: transform 0.3s ease-out;
    }

    .carousel-item.inactive img {
        transform: scale(0.8); 
        opacity: 0.6; 
    }

    .button {
        display: none; 
        padding: 15px 30px;
        font-size: 18px;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        outline: none;
        color: #fff;
        background-color: #4CAF50;
        border: none;
        border-radius: 15px;
        box-shadow: 0 9px #999;
        margin-top: 10px;
    }

    .button:hover {
        background-color: #3e8e41;
    }

    .button:active {
        background-color: #3e8e41;
        box-shadow: 0 5px #666;
        transform: translateY(4px);
    }
</style>
</head>
<body>
<div class="carousel-container">
    <div class="carousel-item active">
        <img src="yimi.jpg">
        <button class="button" onclick="action1()">Yimi - 查看</button>
    </div>
    <div class="carousel-item">
        <img src="ryan.jpg">
        <button class="button" onclick="action2()">阿秉 - 查看</button>
    </div>
    <div class="carousel-item">
        <img src="yang.png">
        <button class="button" onclick="action3()">Legend yang - 查看</button>
    </div>
    <!-- add more -->
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const carouselContainer = document.querySelector('.carousel-container');
        const carouselItems = document.querySelectorAll('.carousel-item');
        const buttons = document.querySelectorAll('.button');
        const totalItems = carouselItems.length;
        const containerWidth = carouselContainer.offsetWidth;

        // 设置初始状态为中间图片
        const centerIndex = Math.floor(totalItems / 2);
        scrollToCenter(centerIndex);

        // 初始化隐藏所有按钮
        buttons.forEach(button => button.style.display = 'none');

        // 点击按钮的动作示例
        function action1() {
            alert('Button 1 clicked');
        }

        function action2() {
            alert('Button 2 clicked');
        }

        function action3() {
            alert('Button 3 clicked');
        }

        // 滚动到中心位置
        function scrollToCenter(index) {
            carouselContainer.scrollLeft = carouselItems[index].offsetLeft - (containerWidth - carouselItems[index].offsetWidth) / 2;
        }

        // 监听滚动事件，控制图片和按钮显示状态
        carouselContainer.addEventListener('scroll', function() {
            carouselItems.forEach(item => {
                const rect = item.getBoundingClientRect();
                if (rect.left >= 0 && rect.right <= window.innerWidth) {
                    item.classList.add('active');
                    item.classList.remove('inactive');
                    item.querySelector('.button').style.display = 'inline-block'; // 显示按钮
                } else {
                    item.classList.remove('active');
                    item.classList.add('inactive');
                    item.querySelector('.button').style.display = 'none'; // 隐藏按钮
                }
            });

            // 检查是否需要循环滚动到中间位置
            const scrollLeft = carouselContainer.scrollLeft;
            if (scrollLeft === 0) {
                carouselContainer.scrollLeft = carouselContainer.scrollWidth; // 滚动到最右边
            } else if (scrollLeft + containerWidth >= carouselContainer.scrollWidth) {
                carouselContainer.scrollLeft = 0; // 滚动到最左边
            }
        });

        // 自动滚动到中心位置（用于处理初始加载时位置的调整）
        setTimeout(function() {
            scrollToCenter(centerIndex);
        }, 100);
    });
</script>
        <script src = "script-friends.js"></script>
</body>